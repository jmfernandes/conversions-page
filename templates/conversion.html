<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Conversion Page</title>

    <!-- Bootstrap -->
    <link href="https://conversions.datanab.net/static/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://conversions.datanab.net/static/bootstrap-3.3.7-dist/css/offcanvas.css" rel="stylesheet">
    <link rel="SHORTCUT ICON" href="https://conversions.herokuapp.com/static/img/Dglove.ico">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
            body, html, .container-fluid { 
        height: 100%;
        }
        .panel-transparent {
        background: none;
    }
    .panel-transparent .panel-heading{
        background: rgba(122, 130, 136, 0.2)!important;
    }
    .panel-transparent .panel-body{
        background: rgba(46, 51, 56, 0.2)!important;
    }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.datanab.net/">Data Nab</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a class="glyphicon glyphicon-home" aria-hidden="true" href="https://www.datanab.net/">&thinsp;Home</a></li>
            <li><a class="glyphicon glyphicon-info-sign" aria-hidden="true" href="https://www.datanab.net/about">&thinsp;About</a></li>
            <li><a class="glyphicon glyphicon-user" aria-hidden="true" href="https://www.datanab.net/contact">&thinsp;Contact</a></li>
            <li class="dropdown active">
              <a class="glyphicon glyphicon-list-alt" aria-hidden="true" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">&thinsp;Pages <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="https://constants.datanab.net">Constants</a></li>
                <li><a href="https://conversions.datanab.net">Conversions</a></li>
                <li><a href="https://prices.datanab.net">Prices</a></li>
                <li><a href="https://efficiency.datanab.net">Efficiencies</a></li>
                <li role="separator" class="divider"></li>
                <!-- <li class="dropdown-header">Nav header</li> -->
                <li><a href="https://www.datanab.net/examples">Examples</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container-fluid">

      <div class="row row-offcanvas row-offcanvas-left">

        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
          <div class="list-group">
            <li class="list-group-item disabled">Pages</li>
            <a href="https://constants.datanab.net/" class="list-group-item">Constants</a>
            <a href="https://conversions.datanab.net/" class="list-group-item active">Conversions</a>
            <a href="https://prices.datanab.net/" class="list-group-item">Prices</a>
            <a href="https://efficiency.datanab.net/" class="list-group-item">Efficiency</a>
          </div>
        </div><!--/.sidebar-offcanvas-->

        <div class="col-xs-12 col-sm-9">
          <p class="pull-left visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
          </p>
          <div class="panel panel-transparent">
          <!-- Default panel contents -->
            <div class="page-heading"><h1>Unit Converter</h1></div>
                <div class="row-fluid">
                    <div class="col-xs-12 col-sm-9">
                                <hr>
                                <form method="post" action="https://conversions.datanab.net/">
                                    <select class="span3" id="maincat" name="maincat">
                                        <option id='distance' value='distance'>Convert Distances</option>
                                        <option id='energy' value='energy'>Convert Energy</option>
                                        <option id='velocity' value='velocity'>Convert Velocities</option>
                                    </select>
                                    <br>
                                    <br>
                                    <input type="text" name="number" class="span3" value='{{data.num}}'>
                                    <select class="span2" id="units" name="units">
                                        <option id='meters' value='meters'>meters</option>
                                        <option id='inches' value='inches'>inches</option>
                                        <option id='feet' value='feet'>feet</option>
                                        <option id='yards' value='yards'>yards</option>
                                        <option id='leagues' value='leagues'>leagues</option>
                                        <option id='angstroms' value='angstroms'>ångströms</option>
                                        <option id='astronomical unit' value='astronomical unit'>astronomical unit</option>
                                        <option id='light years' value='light years'>light years</option>
                                        <option id='centimeters' value='centimeters'>centimeters</option>
                                        <option id='millimeters' value='millimeters'>millimeters</option>
                                        <option id='nanometers' value='nanometers'>nanometers</option>
                                    </select>
                                <h4>is</h4>
                                    <input type="text" id="result" name="result" class="span3" value='{{data.res}}' >
                                    <select class="span2" id="resultunit" name="resultunit">
                                        <option id='meters' value='meters'>meters</option>
                                        <option id='inches' value='inches'>inches</option>
                                        <option id='feet' value='feet'>feet</option>
                                        <option id='yards' value='yards'>yards</option>
                                        <option id='leagues' value='leagues'>leagues</option>
                                        <option id='angstroms' value='angstroms'>ångströms</option>
                                        <option id='astronomical unit' value='astronomical unit'>astronomical unit</option>
                                        <option id='light years' value='light years'>light years</option>
                                        <option id='centimeters' value='centimeters'>centimeters</option>
                                        <option id='millimeters' value='millimeters'>millimeters</option>
                                        <option id='nanometers' value='nanometers'>nanometers</option>
                                    </select>
                                    <hr>
                                <button id="convertbut" class="btn" type="submit">Convert!</button>
                                </form>
                                </div>
                    </div>
                </div><!--/row-->               
            </div><!--/.fluid-container-->
      <hr>

       <footer>
          <nav>
              Copyright &copy; Josh Fernandes 2012
          </nav>
    </footer>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://conversions.herokuapp.com/static/js/toggle.js"></script>
    <script src="https://conversions.datanab.net/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <script src="https://conversions.datanab.net/static/bootstrap-3.3.7-dist/js/offcanvas.js"></script>
            <script>
                //$("#units option[value='eV']").remove();
                
                var my_value = '{{data.unit}}';
                var my_value2 = '{{data.unitres}}';
                var my_value3 = '{{data.mainunit}}';

                $("#maincat").change(function(){
                                     $('input[name="result"]').val("Result appears here");
                                     if( this.options[this.selectedIndex].value == 'distance') {
                                     var newOptions2 = {'meters': 'meters','inches': 'inches','feet': 'feet', 'yards':'yards', 'leagues':'leagues','ångströms':'angstroms', 'astronomical unit': 'astronomical unit', 'light years':'light years','centimeters':'centimeters','millimeters':'millimeters','nanometers':'nanometers'};
                                     }
                                     else if (this.options[this.selectedIndex].value == 'energy'){
                                     var newOptions2 = {'eV': 'eV','Joules': 'Joules','calories': 'calories', 'Btu':'Btu'};
                                     }
                                     else if (this.options[this.selectedIndex].value == 'velocity') {
                                     var newOptions2 = {'miles/hour': 'miles/hour','kilometers/hour': 'kilometers/hour', 'speed of light':'speed of light','feet/second': 'feet/second', 'meters/second':'meters/second'};
                                     };
                                     var $ele = $("#units");
                                     $ele.empty(); // remove old options
                                     $.each(newOptions2, function(key, value) {
                                            $ele.append($("<option></option>")
                                                       .attr("value", value).text(key));
                                            });
                                     
                                     
                                     var $elie = $("#resultunit");
                                     $elie.empty(); // remove old options
                                     $.each(newOptions2, function(key, value) {
                                            $elie.append($("<option></option>")
                                                       .attr("value", value).text(key));
                                            });
                                     })

                

                if (my_value3 == 'energy') {
                var newOptions = {'eV': 'eV','Joules': 'Joules','calories': 'calories', 'Btu':'Btu'};
                }
                else if (my_value3 == 'distance'){
                var newOptions = {'meters': 'meters','inches': 'inches','feet': 'feet', 'yards':'yards', 'leagues':'leagues','ångströms':'angstroms', 'astronomical unit': 'astronomical unit', 'light years':'light years','centimeters':'centimeters','millimeters':'millimeters','nanometers':'nanometers'};
                }
                else if (my_value3 == 'velocity'){
                var newOptions = {'miles/hour': 'miles/hour','kilometers/hour': 'kilometers/hour', 'speed of light':'speed of light','feet/second': 'feet/second', 'meters/second':'meters/second'};
                }
                else {
                var newOptions = {'meters': 'meters','inches': 'inches','feet': 'feet', 'yards':'yards', 'leagues':'leagues','ångströms':'angstroms', 'astronomical unit': 'astronomical unit', 'light years':'light years','centimeters':'centimeters','millimeters':'millimeters','nanometers':'nanometers'}; 
                }
                var $el = $("#units");
                var $eli = $("#resultunit");
                $el.empty(); // remove old options
                $eli.empty(); // remove old options
                $.each(newOptions, function(key, value) {
                    $el.append($("<option></option>").attr("value", value).text(key));
                });
                
                $.each(newOptions, function(key, value) {
                    $eli.append($("<option></option>").attr("value", value).text(key));
                });
                


                $('#maincat option').each(function(){
                                        var $this = $(this); // cache the this jQuery object to avoid overhead
                                        
                                        if ($this.val() == my_value3) { // if this option's value is equal to our value
                                        $this.prop('selected', true); // select this option
                                        return false; // break the loop, no need to look further
                                        }
                                        });
                
                
                $('#units option').each(function(){
                                        var $this = $(this); // cache the this jQuery object to avoid overhead
                
                                        if ($this.val() == my_value) { // if this option's value is equal to our value
                                        $this.prop('selected', true); // select this option
                                        return false; // break the loop, no need to look further
                                        }
                                        });
                
                $('#resultunit option').each(function(){
                                        var $this = $(this); // cache the this jQuery object to avoid overhead
                                        
                                        if ($this.val() == my_value2) { // if this option's value is equal to our value
                                        $this.prop('selected', true); // select this option
                                        return false; // break the loop, no need to look further
                                        }
                                        });
                
                
                $("ol").hover(
                              function () {
                              $(this).append($("<span>&nbsp;&nbsp;(click to open)</span>"));
                              },
                              function () {
                              $(this).find("span:last").remove();
                              }
                              );
                
                
                
                //li with fade class
                $("ol.fade").hover(function(){$(this).fadeOut(100);$(this).fadeIn(500);});
                
                //changes from distances to energy
                
                
                

                
                </script>
        </body>
    </html>